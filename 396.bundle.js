"use strict";(self.webpackChunkrecipe_app=self.webpackChunkrecipe_app||[]).push([[396],{18:(o,e,r)=>{r.d(e,{A:()=>l});var n=r(1601),a=r.n(n),t=r(6314),i=r.n(t)()(a());i.push([o.id,".profile-container{padding:2rem;max-width:600px;margin:0 auto;color:#fff;border:2px solid red}.profile-container .profile-content{background-color:rgba(0,0,0,.7);border-radius:10px;padding:2rem;display:flex;flex-direction:column;align-items:center;gap:1.5rem}.profile-container .profile-avatar{width:120px;height:120px;border-radius:50%;background-color:#4ecdc4;display:flex;align-items:center;justify-content:center;font-size:3rem;font-weight:bold;color:#2a2a2a}.profile-container .profile-email{font-size:1.2rem;margin-bottom:1rem}.profile-container .profile-actions{width:100%;display:flex;flex-direction:column;gap:1rem}.profile-container .change-password-btn,.profile-container .logout-btn{padding:.75rem;border:none;border-radius:5px;font-size:1rem;cursor:pointer;transition:background-color .3s}.profile-container .change-password-btn{background-color:hsla(0,0%,100%,.1);color:#fff}.profile-container .change-password-btn:hover{background-color:hsla(0,0%,100%,.2)}.profile-container .logout-btn{background-color:#ff6b6b;color:#fff}.profile-container .logout-btn:hover{background-color:#ff5252}.profile-container .password-form{display:flex;flex-direction:column;gap:1rem;width:100%;margin-top:1rem}.profile-container .password-form input{padding:.75rem;border-radius:5px;border:1px solid #444;background-color:hsla(0,0%,100%,.1);color:#fff;font-size:1rem}.profile-container .password-form input::placeholder{color:#aaa}.profile-container .password-form .error-message{color:#ff6b6b;text-align:center;font-size:.9rem}.profile-container .password-form .form-actions{display:flex;gap:1rem;margin-top:.5rem}.profile-container .password-form .form-actions button{flex:1;padding:.75rem;border:none;border-radius:5px;font-size:1rem;cursor:pointer}.profile-container .password-form .form-actions .submit-btn{background-color:#4ecdc4;color:#2a2a2a}.profile-container .password-form .form-actions .cancel-btn{background-color:hsla(0,0%,100%,.1);color:#fff}.profile-container .logout-modal{position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.7);display:flex;justify-content:center;align-items:center;z-index:1000}.profile-container .logout-modal .modal-content{background-color:#2a2a2a;padding:2rem;border-radius:10px;text-align:center;max-width:400px;width:90%}.profile-container .logout-modal .modal-content p{margin-bottom:2rem;font-size:1.1rem}.profile-container .logout-modal .modal-content .modal-actions{display:flex;gap:1rem}.profile-container .logout-modal .modal-content .modal-actions button{flex:1;padding:.75rem;border:none;border-radius:5px;font-size:1rem;cursor:pointer}.profile-container .logout-modal .modal-content .modal-actions .confirm-btn{background-color:#ff6b6b;color:#fff}.profile-container .logout-modal .modal-content .modal-actions .cancel-btn{background-color:hsla(0,0%,100%,.1);color:#fff}",""]);const l=i},8396:(o,e,r)=>{r.r(e),r.d(e,{default:()=>v});var n=r(4848),a=r(6540),t=r(7900),i=r(7665),l=r(5072),c=r.n(l),s=r(7825),d=r.n(s),f=r(7659),p=r.n(f),m=r(5056),u=r.n(m),g=r(540),b=r.n(g),h=r(1113),x=r.n(h),w=r(18),j={};j.styleTagTransform=x(),j.setAttributes=u(),j.insert=p().bind(null,"head"),j.domAPI=d(),j.insertStyleElement=b(),c()(w.A,j),w.A&&w.A.locals&&w.A.locals;const v=function(){var o=(0,t.A)(),e=o.user,r=o.logout,l=o.changePassword,c=(0,i.Zp)(),s=(0,a.useState)(!1),d=s[0],f=s[1],p=(0,a.useState)(!1),m=p[0],u=p[1],g=(0,a.useState)(""),b=g[0],h=g[1],x=(0,a.useState)(""),w=x[0],j=x[1],v=(0,a.useState)(""),k=v[0],N=v[1],y=(0,a.useState)(""),C=y[0],z=y[1];return e?(console.log("Profile user:",e),console.log("ProfilePage render",e),(0,n.jsxs)("div",{className:"profile-container",children:[(0,n.jsxs)("div",{className:"profile-content",children:[(0,n.jsx)("div",{className:"profile-avatar",children:(0,n.jsx)("span",{children:e.email.charAt(0).toUpperCase()})}),(0,n.jsx)("div",{className:"profile-email",children:e.email}),(0,n.jsxs)("div",{className:"profile-actions",children:[(0,n.jsx)("button",{className:"change-password-btn",onClick:function(){return u(!m)},children:"Сменить пароль"}),m&&(0,n.jsxs)("form",{className:"password-form",onSubmit:function(o){o.preventDefault(),z(""),e&&(w===k?w.length<8||w.length>63?z("Пароль должен быть от 8 до 63 символов"):l(e.email,b,w)?(u(!1),h(""),j(""),N(""),alert("Пароль успешно изменен!")):z("Неверный текущий пароль"):z("Пароли не совпадают"))},children:[(0,n.jsx)("input",{type:"password",placeholder:"Текущий пароль",value:b,onChange:function(o){return h(o.target.value)},required:!0}),(0,n.jsx)("input",{type:"password",placeholder:"Новый пароль",value:w,onChange:function(o){return j(o.target.value)},required:!0}),(0,n.jsx)("input",{type:"password",placeholder:"Подтвердите новый пароль",value:k,onChange:function(o){return N(o.target.value)},required:!0}),C&&(0,n.jsx)("div",{className:"error-message",children:C}),(0,n.jsxs)("div",{className:"form-actions",children:[(0,n.jsx)("button",{type:"submit",className:"submit-btn",children:"Сохранить"}),(0,n.jsx)("button",{type:"button",className:"cancel-btn",onClick:function(){u(!1),z("")},children:"Отмена"})]})]}),(0,n.jsx)("button",{className:"logout-btn",onClick:function(){return f(!0)},children:"Выйти из аккаунта"})]})]}),d&&(0,n.jsx)("div",{className:"logout-modal",children:(0,n.jsxs)("div",{className:"modal-content",children:[(0,n.jsx)("p",{children:"Вы уверены, что хотите выйти?"}),(0,n.jsxs)("div",{className:"modal-actions",children:[(0,n.jsx)("button",{className:"confirm-btn",onClick:function(){r(),c("/")},children:"Да, выйти"}),(0,n.jsx)("button",{className:"cancel-btn",onClick:function(){return f(!1)},children:"Отмена"})]})]})})]})):(c("/"),null)}}}]);